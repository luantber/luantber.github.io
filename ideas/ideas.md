### Key ideas

- Yo utilizo conda y poetry juntos
- Si bien ambos se pueden utilizar para manejar entornos y dependencias cada uno esta especializado en un foco distinto.
- Conda es un gestor de entornos virtuales para python que permite aislar las dependencias de un proyecto en un entorno virtual. La forma de replicar un entorno se realiza exportando el archivo `environment.yml` y creando un nuevo entorno con `conda env create -f environment.yml` 
- Poetry es un gestor de dependencias declarativo similar a npm en javascript. Las dependencias son declaradas en el archivo `pyproject.toml` que se actualiza automáticamente al instalar o desinstalar una dependencia. 
- Conda es excelente para manejar diferentes versiones de python y aislar entornos. Sin embargo el manejo de dependencias no me parece apto para desarrollo de proyectos debido a que para replicar el entorno con dependencias es necesario  re-exportar el archivo `environment.yml` o un `requirements.txt` constantemente. Que además están llenos de otras dependencias que no instalamos directamente, si no que fueron instaladas como requerimientos de nuestras dependencias reales. Lo que dificulta la visión general de las dependencias de nuestro proyecto y sus versiones.
- Poetry nos ayuda en estas tareas, ya que al instalar o desinstalar una dependencia automáticamente actualiza el archivo `pyproject.toml` con la versión de la dependencia instalada. En este archivo toml solo se encuentran las dependencias que nosotros instalamos directamente. Además este archivo es versionable via git y se puede compartir con otros desarrolladores para que instalen las mismas dependencias que nosotros.
- Por otro lado conda me parece excelente para manejar entornos virtuales con diferentes versiones de python o dependencias. Ya que es muy fácil activar o desactivar entornos, incluso dentro del mismo proyecto. Poetry cuenta con su propio sistema de entornos virtuales, aunque no es su foco principal y no me parece tan sencillo de manejar como conda. Ya que requiere utilizar el plugin poetry-plugin-shell para activar o desactivar entornos y el comando poetry run para ejecutar comandos en el entorno virtual.
- Otras ventajas de usar conda es que es independiente totalmente del python propio del sistema operativo. Además vscode reconoce automáticamente los entornos de conda y nos permite seleccionarlos desde la barra inferior.
- Un uso común que le doy a conda es para tener un entorno reutilizable con todo el stack de data science ( numpy , pandas, sklearn , etc ) por ejemplo en un entorno "data-dev" listo para hacer experimentos en cualquier directorio del sistema. Pero también me da la flexibilidad de manejar un entorno completamente independiente para cada proyecto si es necesario.
- Ahora hablando de poetry tiene muchas otras ventajas en comparación a solo utilizar conda yaml o requirements.txt: - Manejo de depencias de desarrollo y obligatorias por separado mediante grupos. Por ejemplo un proyecto de fastapi requiere obligatoriamente fastapi y uvicorn, pero para desarrollo puede requerir black para formateo o ruff como lintern por lo que son dependencias opcionales. - El manejo de versiones es más flexible permitiendonos upgradear las dependencias cuando hayan disponibles o bloqueando versiones a una versión específica. - También nos asegura que haya compatibilidad entre todas las dependencias y subdependencia mediante resolución de dependencias, y encuentra una fórmula de depencias que satisfaga todas nuestras especificaciones de librerías. En caso de no encontrar una solución no podremos instalar la dependencia asegurando compatibilidad completa.  - Una feature muy interesante es la capacidad de utilizar poetry para crear y publicar librerías utilizando package-mode=true
- Tips: Recomiendo utilizar miniconda en lugar de anaconda, ya que miniconda es más ligero y solo instala lo necesario para conda.
